paths:
  - ./src
layers:
  - name: Vendor
    collectors:
      - type: bool
        must:
          - type: className
            regex: .+\\.*
        must_not:
          - type: className
            regex: ^Qossmic\\Deptrac\\.*
  - name: Formatters
    collectors:
      - type: implements
        implements: 'Qossmic\Deptrac\OutputFormatter\OutputFormatterInterface'
  - name: Console
    collectors:
      - type: directory
        regex: src/Console/.*
      - type: className
        regex: OutputFormatter\w+
  - name: Application
    collectors:
      - type: bool
        must:
          - type: directory
            regex: src/.*
        must_not:
          - type: directory
            regex: src/.*/.*
          - type: className
            regex: OutputFormatter\w+
      - type: directory
        regex: src/RulesetEngine/.*
ruleset:
  Formatters:
    - Console
    - Application
    - Vendor
  Console:
    - Application
    - Vendor
  Application:
    - Vendor
